(this.webpackJsonpbattleroyale=this.webpackJsonpbattleroyale||[]).push([[0],{185:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(16),r=a.n(o),s=(a(185),a(22)),c=a(339),l=Object(c.a)((function(e){return{root:{display:"flex",maxWidth:"100vw",overflowX:"hidden"},content:{flexGrow:1,padding:e.spacing(3),paddingTop:"100px",width:"calc(100vw - 240px)"}}})),h=a(8),d=a(13),u=a(2),b=Object(n.createContext)();function j(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],r=Object(n.useState)(""),s=Object(h.a)(r,2),c=s[0],l=s[1];return Object(u.jsx)(b.Provider,{value:{isAuth:i,updateAuth:function(e){o(e)},token:c,updateToken:function(e){l(e)}},children:e.children})}var p=a(11),m=a(9),f=function(){function e(t){switch(Object(p.a)(this,e),t){case"easy":this.scoremult=1;break;case"medium":this.scoremult=2;break;case"hard":this.scoremult=4}this.isCollision={ballball:function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)<e.radius+t.radius},ballwall:function(e,t){var a=e,n=t,i=Math.abs(a.x-(n.x+n.width/2)),o=Math.abs(a.y-(n.y+n.height/2));return!(i>n.width/2+a.radius)&&(!(o>n.height/2+a.radius)&&(i<=n.width/2||(o<=n.height/2||(i-=n.width/2,o-=n.height/2,Math.pow(i,2)+Math.pow(o,2)<=Math.pow(a.radius,2)))))}}}return Object(m.a)(e,[{key:"setWorld",value:function(e){this.world=e}},{key:"handle",value:function(e,t){if(null!=e&&null!=t)switch(e.constructor.name){case"Player":this.handlePlayer(e,t);break;case"Bullet":this.handleBullet(e,t);break;case"Ai":this.handleAi(e,t)}}},{key:"handlePlayer",value:function(e,t){switch(t.constructor.name){case"Ai":this.isCollision.ballball(e,t)&&(e.position.sub(e.modified_velocity),e.x=e.position.x,e.y=e.position.y);break;case"Wall":this.isCollision.ballwall(e,t)&&(e.position.sub(e.modified_velocity),e.x=e.position.x,e.y=e.position.y);break;case"Ammo":this.isCollision.ballball(e,t)&&(e.ammo[t.type]+=t.amount,this.world.removeActor(t),this.world.generateAmmo(1,t.type))}}},{key:"handleBullet",value:function(e,t){var a=t.constructor.name;switch(a){case"Wall":this.isCollision.ballwall(e,t)&&(this.world.removeActor(e),t.health-=e.damage,t.health<=0&&(this.world.removeActor(t),e.shooter.score+=t.points));break;case"Player":case"Ai":this.isCollision.ballball(e,t)&&("hurt"==t.condition&&(t.health-=e.damage),t.health-=e.damage,this.world.removeActor(e),t.health<=0&&("Ai"==a?(this.world.removeActor(t),clearInterval(t.interval),t.interval=null,this.world.generateAi(1,t.type),e.shooter.score+=1e3*this.scoremult):this.world.end=!0))}}},{key:"handleAi",value:function(e,t){switch(t.constructor.name){case"Ai":this.isCollision.ballball(e,t)&&(e.position.sub(e.modified_velocity),e.x=e.position.x,e.y=e.position.y);break;case"Wall":this.isCollision.ballwall(e,t)&&(e.position.sub(e.modified_velocity),e.x=e.position.x,e.y=e.position.y)}}}]),e}(),g=function(){function e(t,a){Object(p.a)(this,e),this.x=t,this.y=a}return Object(m.a)(e,[{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"mult",value:function(e){return this.x*=e,this.y*=e,this}},{key:"copy",value:function(){return new e(this.x,this.y)}},{key:"toString",value:function(){return"("+this.x+","+this.y+")"}},{key:"normalize",value:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y);return 0==e||(this.x=this.x/e,this.y=this.y/e),this}}]),e}(),x=a(19),y=a(20),w=function(){function e(t,a,n,i){Object(p.a)(this,e),this.position=t,this.intPosition(),this.velocity=a,this.colour=n,this.radius=i}return Object(m.a)(e,[{key:"headTo",value:function(e){this.velocity.x=e.x-this.position.x,this.velocity.y=e.y-this.position.y,this.velocity.normalize()}},{key:"toString",value:function(){return this.position.toString()+" "+this.velocity.toString()}},{key:"step",value:function(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.intPosition()}},{key:"intPosition",value:function(){this.x=Math.round(this.position.x),this.y=Math.round(this.position.y)}},{key:"draw",value:function(e,t){e.fillStyle=this.colour,e.beginPath(),e.arc(this.x-t.x,this.y-t.y,this.radius,0,2*Math.PI,!1),e.fill()}}]),e}(),v=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(e,n,i,o,r){var s;return Object(p.a)(this,a),(s=t.call(this,e,n,i,o)).health=r,s.turret_position=new g(0,0),s.ammo={pistol:10,railgun:5,cannon:1},s.score=0,s.weapon="pistol",s.condition="normal",s}return Object(m.a)(a,[{key:"nextWeapon",value:function(){"pistol"==this.weapon?this.weapon="railgun":"railgun"==this.weapon?this.weapon="cannon":(this.weapon,this.weapon="pistol")}},{key:"draw",value:function(e,t){e.fillStyle=this.colour,this.drawTurret(e,t),e.beginPath(),e.arc(this.x-t.x,this.y-t.y,this.radius,0,2*Math.PI,!1),e.fill(),e.stroke(),e.closePath();var a=[200,200];this.health>50?a[0]*=1-(this.health-50)/50:a[1]*=this.health/50,e.save(),e.font="20px Verdana",e.fillStyle="rgb(".concat(a.join(),",0)");var n="".concat(this.health),i=~~e.measureText(n).width;e.fillText(n,this.x-t.x-i/2,this.y-t.y+5),e.restore()}},{key:"drawTurret",value:function(e,t){var a={x:this.x-t.x,y:this.y-t.y,width:2*this.radius,height:15},n=t.getMousePos(t.world.mouse),i=180*Math.atan2(n.y-a.y,n.x-a.x)/Math.PI+180;e.save(),e.translate(a.x,a.y),e.rotate(i*Math.PI/180),e.fillStyle=this.colour,e.fillRect(-a.width,a.height/-2,a.width,a.height),e.strokeRect(-a.width,a.height/-2,a.width,a.height),e.restore(),this.turret_position=new g(this.x+-2*this.radius*Math.cos(i*Math.PI/180),this.y+-2*this.radius*Math.sin(i*Math.PI/180))}},{key:"step",value:function(){switch(this.modified_velocity=this.velocity.copy(),this.condition){case"fast":this.modified_velocity.mult(1.2);break;case"slowed":this.modified_velocity.mult(.8)}this.position.x+=this.modified_velocity.x,this.position.y+=this.modified_velocity.y,this.intPosition()}}]),a}(w);function O(e){return Math.round(Math.random()*e)}var k=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(e,n,i,o,r,s){var c;Object(p.a)(this,a),(c=t.call(this,e,new g(0,0),n,i)).amount=o,c.type=s,c.num_balls=r,c.randballs=[];for(var l=0;l<c.num_balls;l++){var h=O(30)-15,d=O(30)-15;c.randballs.push([h,d])}return c}return Object(m.a)(a,[{key:"draw",value:function(e,t){e.fillStyle=this.colour;for(var a=this.x-t.x,n=this.y-t.y,i=0;i<this.num_balls;i++)e.beginPath(),e.arc(a+this.randballs[i][0],n+this.randballs[i][1],this.radius,0,2*Math.PI,!1),e.stroke(),e.fill(),e.closePath()}}]),a}(w),C=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(e,n,i,o,r,s,c){var l;return Object(p.a)(this,a),(l=t.call(this,e,n,i,o)).shooter=c,l.damage=r,l.type=s,l}return Object(m.a)(a)}(w),A=function(){function e(t,a,n){Object(p.a)(this,e),this.canvas=t,this.actors=n.actors,this.world=n,this.width=t.width,this.height=t.height,this.x=a.x-this.width/2,this.y=a.y-this.height/2,this.position=new g(this.x,this.y)}return Object(m.a)(e,[{key:"viewWithin",value:function(){return this.x>=0&&this.y>=0&&this.x+this.width<=this.world.width&&this.y+this.height<=this.world.height}},{key:"draw",value:function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.width,this.height);var t=this.x,a=this.y;this.viewWithin()||(t<0&&(this.x=0),a<0&&(this.y=0),t+this.width>this.world.width&&(this.x=this.world.width-this.width,this.position.x=this.x),a+this.height>this.world.height&&(this.y=this.world.height-this.height,this.position.y=this.y)),e.drawImage(this.world.map_bg,0,0,this.world.map_bg.width,this.world.map_bg.height,-this.x,-this.y,this.world.map_bg.width,this.world.map_bg.height);for(var n=0;n<this.actors.length;n++)this.actors[n].draw(e,this);var i,o,r=new g(this.width/2,this.height/2),s="SCORE: "+this.world.player.score,c="AMMO: "+this.world.player.ammo[this.world.player.weapon]+" (".concat(this.world.player.weapon,")"),l="GAME OVER";this.world.end?((o=e.createRadialGradient(r.x,r.y,200,r.x,r.y,300)).addColorStop("0","gray"),o.addColorStop("1.0","black"),e.fillStyle=o,e.rect(r.x-300,r.y-150,600,300),e.fill(),e.beginPath(),e.fillStyle="white",e.rect(r.x-280,r.y-130,560,260),e.fill(),e.stroke(),e.closePath(),e.save(),e.font="bold 60px Verdana",i=~~e.measureText(l).width,e.fillStyle="black",e.fillText(l,r.x-i/2,r.y),e.restore(),e.save(),e.font="50px Verdana",i=~~e.measureText(s).width,(o=e.createLinearGradient(r.x-i/2,r.y,r.x+i/2,r.y)).addColorStop("0"," magenta"),o.addColorStop("0.5","blue"),o.addColorStop("1.0","red"),e.fillStyle=o,e.fillText(s,r.x-i/2,r.y+70),e.restore()):(e.save(),e.font="30px Verdana",i=15+~~e.measureText(s).width,(o=e.createLinearGradient(this.width-i,this.height-15,this.width,this.height)).addColorStop("0"," magenta"),o.addColorStop("0.5","blue"),o.addColorStop("1.0","red"),e.fillStyle=o,e.fillText(s,this.width-i,this.height-15),e.fillStyle="black",e.fillText(c,10,this.height-15),e.restore())}},{key:"getMousePos",value:function(e){var t=this.canvas.getBoundingClientRect();return new g(e.x-t.left,e.y-t.top)}}]),e}(),S=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(e,n,i,o,r,s,c){var l;return Object(p.a)(this,a),(l=t.call(this,e,n,i,o)).health=r,l.turret_position=new g(0,0),l.ammo=1e3,l.condition="normal",l.weapon=s,l.type=c,l}return Object(m.a)(a,[{key:"draw",value:function(e,t){e.fillStyle=this.colour,this.drawTurret(e,t),e.beginPath(),e.arc(this.x-t.x,this.y-t.y,this.radius,0,2*Math.PI,!1),e.fill(),e.stroke(),e.closePath()}},{key:"drawTurret",value:function(e,t){var a=t.world.player,n={x:this.x-t.x,y:this.y-t.y,width:2*this.radius,height:this.radius/20*15},i=180*Math.atan2(a.y-t.y-n.y,a.x-t.x-n.x)/Math.PI+180;e.save(),e.translate(n.x,n.y),e.rotate(i*Math.PI/180),e.fillStyle=this.colour,e.fillRect(-n.width,n.height/-2,n.width,n.height),e.strokeRect(-n.width,n.height/-2,n.width,n.height),e.restore(),this.turret_position=new g(this.x+-2*this.radius*Math.cos(i*Math.PI/180),this.y+-2*this.radius*Math.sin(i*Math.PI/180))}},{key:"step",value:function(){switch(this.modified_velocity=this.velocity.copy(),this.condition){case"fast":this.modified_velocity.mult(1.2);break;case"slowed":this.modified_velocity.mult(.8)}switch(this.type){case"spray":this.modified_velocity.mult(1.3);break;case"boss":this.modified_velocity.mult(.9)}this.position.x+=this.modified_velocity.x,this.position.y+=this.modified_velocity.y,this.intPosition()}}]),a}(w),P=function(){function e(t,a,n,i){Object(p.a)(this,e),this.health=2*Math.max(n,i),this.points=2*this.health,this.position=t,this.colour=a,this.width=n,this.height=i,this.x=t.x,this.y=t.y}return Object(m.a)(e,[{key:"step",value:function(){}},{key:"draw",value:function(e,t){var a=this.x-t.x,n=this.y-t.y,i=this.width,o=this.height;e.save(),e.beginPath(),e.fillStyle=this.colour,e.rect(a,n,i,o),e.fill(),e.closePath(),e.restore()}}]),e}();function T(e){return Math.round(Math.random()*e)}var N=100,B=function(){function e(t,a,n,i,o){var r,s,c;switch(Object(p.a)(this,e),i){case"easy":N=400,r=8,s=2,c=1;break;case"medium":N=200,r=10,s=3,c=1;break;case"hard":N=100,r=12,s=4,c=2}this.collisionHandler=t,this.ammunitionFactory=a,this.aiFactory=n,this.ammunitionFactory.setWorld(this),this.aiFactory.setWorld(this),this.mouse=new g(0,0),this.end=!1,this.width=5e3,this.height=5e3,this.canvas=o,this.context=this.canvas.getContext("2d"),this.actors=[],this.generateMap(),this.generateAmmo(60,"pistol"),this.generateAmmo(40,"railgun"),this.generateAmmo(20,"cannon"),this.generateAi(r,"normal"),this.generateAi(s,"spray"),this.generateAi(c,"boss"),this.generateBoundaries(),this.generateObstacles(),this.spawnPlayer(),this.camera=new A(o,this.player,this)}return Object(m.a)(e,[{key:"updateMouse",value:function(e){this.mouse.x=e.clientX,this.mouse.y=e.clientY}},{key:"spawnPlayer",value:function(){for(var e=new g(0,0);;){var t=T(this.width-40)+20,a=T(this.height-40)+20,n=new g(t,a);this.player=null,this.addPlayer(new v(n,e,"rgba(77,153,79,1)",20,N));for(var i=!1,o=0;o<this.actors.length;o++){var r=this.actors[o],s=r.constructor.name;if(r!==this.player){switch(s){case"Ai":this.collisionHandler.isCollision.ballball(this.player,r)&&(i=!0);break;case"Wall":this.collisionHandler.isCollision.ballwall(this.player,r)&&(i=!0)}if(i)break}}if(!i)break;this.removePlayer()}}},{key:"playerShoot",value:function(e){if(this.player.ammo[this.player.weapon]>0){var t=new g(this.player.x-this.camera.x,this.player.y-this.camera.y),a=this.camera.getMousePos(this.mouse),n=this.player.turret_position.copy(),i=a.sub(t).normalize().mult(25);this.shootBullet(n,i,this.player.weapon,this.player),this.player.ammo[this.player.weapon]--}}},{key:"generateMap",value:function(){var e=document.createElement("canvas").getContext("2d");e.canvas.width=this.width,e.canvas.height=this.height;var t=Math.floor(this.width/34),a=Math.floor(this.height/34),n="rgba(".concat([56,8,82].join(),",1)"),i="rgba(".concat([219,214,46].join(),",1)"),o="rgba(".concat([33,171,26].join(),",1)"),r="rgba(".concat([0,204,197].join(),",1)");e.save();for(var s=0,c=0;c<t;s+=34,c++)for(var l=0,h=0;h<a;l+=34,h++)e.fillStyle=h<a/2&&c<t/2?n:h<a/2&&c>=t/2?o:h>=a/2&&c<t/2?r:i,e.beginPath(),e.rect(s,l,33,33),e.fill(),e.closePath();e.restore(),this.map_bg=new Image,this.map_bg.src=e.canvas.toDataURL("image/png"),e=null}},{key:"generateObstacles",value:function(){this.addActor(new P(new g(this.width/2+100,this.height/2-250),"rgba(77,77,77,1)",75,75)),this.addActor(new P(new g(this.width/2-400,this.height/2+50),"rgba(77,77,77,1)",70,210)),this.addActor(new P(new g(this.width/2+223,this.height/2+323),"rgba(77,77,77,1)",200,200)),this.addActor(new P(new g(400,400),"rgba(77,77,77,1)",300,70)),this.addActor(new P(new g(400,470),"rgba(77,77,77,1)",70,230)),this.addActor(new P(new g(1600,1300),"rgba(77,77,77,1)",400,100)),this.addActor(new P(new g(1030,1800),"rgba(77,77,77,1)",200,500))}},{key:"generateAmmo",value:function(e,t){for(var a=0;a<e;a++){var n=this.ammunitionFactory.getAmmo(t);this.addActor(n)}}},{key:"generateAi",value:function(e,t){for(var a=0;a<e;a++){var n=T(this.width-100)+50,i=T(this.height-100)+50,o=new g(n,i),r=this.aiFactory.getAi(o,t);this.addActor(r)}}},{key:"generateBoundaries",value:function(){var e=new P(new g(-this.width,-this.height),"rgba(77,77,77,1)",this.width,3*this.height),t=new P(new g(0,-this.height),"rgba(77,77,77,1)",this.width,this.height),a=new P(new g(this.width,-this.height),"rgba(77,77,77,1)",this.width,3*this.height),n=new P(new g(0,this.height),"rgba(77,77,77,1)",this.width,this.height);this.addActor(e),this.addActor(t),this.addActor(a),this.addActor(n)}},{key:"addPlayer",value:function(e){this.addActor(e),this.player=e}},{key:"removePlayer",value:function(){this.removeActor(this.player),this.player=null}},{key:"addActor",value:function(e){this.actors.push(e)}},{key:"removeActor",value:function(e){var t=this.actors.indexOf(e);-1!=t&&this.actors.splice(t,1)}},{key:"step",value:function(){this.camera.x=this.player.x-this.camera.width/2,this.camera.y=this.player.y-this.camera.height/2;for(var e=0;e<this.actors.length;e++){var t=this.actors[e],a=t.constructor.name;if("Ai"!=a&&"Player"!=a||(t.position.y>this.height/2?t.position.x<=this.width/2?t.condition="fast":t.condition="slowed":t.position.x<=this.width/2?t.condition="hurt":t.condition="normal"),"Ai"==a){var n=this.player.position.copy().sub(t.position),i=n.x,o=n.y;if(i*i+o*o>=9e4){var r=n.normalize().mult(12);t.velocity=r,clearInterval(t.interval),t.interval=null}else t.velocity=new g(0,0),null==t.interval&&(t.interval=setInterval((function(e,t,a){var n=t.turret_position.copy(),i=a.position.copy().sub(t.position).normalize().mult(25);e.shootBullet(n,i,t.weapon,t)}),1e3,this,t,this.player))}if(t.step(),"Ai"==a||"Player"==a||"Bullet"==a)for(var s=0;s<this.actors.length;s++){var c=this.actors[s],l=c.constructor.name;("Bullet"!=a||"Bullet"!=l&&"Ammo"!=l)&&e!=s&&this.collisionHandler.handle(t,c)}}}},{key:"getActor",value:function(e,t){for(var a=0;a<this.actors.length;a++)if(this.actors[a].x==e&&this.actors[a].y==t)return this.actors[a];return null}},{key:"shootBullet",value:function(e,t,a,n){var i;"railgun"===a?(i=this.ammunitionFactory.getBullet(e,t,a,n),this.addActor(i),setTimeout((function(e,t){e.addActor(t)}),100,this,this.ammunitionFactory.getBullet(e,t,a,n)),setTimeout((function(e,t){e.addActor(t)}),200,this,this.ammunitionFactory.getBullet(e,t,a,n))):(i=this.ammunitionFactory.getBullet(e,t,a,n),this.addActor(i))}}]),e}();function I(e){return Math.round(Math.random()*e)}var _=function(){function e(){Object(p.a)(this,e)}return Object(m.a)(e,[{key:"setWorld",value:function(e){this.world=e}},{key:"getBullet",value:function(e,t,a,n){var i,o,r;switch(a){case"pistol":i=4,o="rgba(123,57,0,1)",r=10;break;case"railgun":i=6,o="rgba(123,57,0,1)",r=20;break;case"cannon":i=15,o="rgba(123,57,0,1)",r=100,t.mult(.8)}return new C(e,t,o,i,r,a,n)}},{key:"getAmmo",value:function(e){var t,a,n,i,o=new g(I(this.world.width),I(this.world.height));switch(e){case"pistol":t=4,a="rgba(192,192,192,1)",n=10,i=5;break;case"railgun":t=6,a="rgba(207, 148, 0,1)",n=3,i=3;break;case"cannon":t=15,a="rgba(255, 0, 0,1)",n=1,i=1}return new k(o,a,t,n,i,e)}}]),e}(),M=function(){function e(){Object(p.a)(this,e)}return Object(m.a)(e,[{key:"setWorld",value:function(e){this.world=e}},{key:"getAi",value:function(e,t){var a,n,i,o;switch(t){case"normal":a=20,n="rgba(209,63,38,1)",i=100,o="pistol";break;case"spray":a=15,n="rgba(50, 62, 168,1)",i=30,o="railgun";break;case"boss":a=40,n="rgba(93, 19, 128,1)",i=1e3,o="cannon"}return new S(e,new g(0,0),n,a,i,o,t)}}]),e}(),R=Object(c.a)((function(e){return{content:{display:"flex",flexDirection:"column",flexGrow:1},gameView:{alignSelf:"center",border:"1px solid black"}}})),E=a(341),L=null,W=null,F="medium",D=22,z=null,H={a:new g(-1,0),s:new g(0,1),d:new g(1,0),w:new g(0,-1)},U={a:!1,s:!1,d:!1,w:!1};function q(e){var t=new f(F),a=new _,n=new M;L=new B(t,a,n,F,e.current),t.setWorld(L),document.addEventListener("keydown",X,!0),document.addEventListener("keyup",K,!1),document.addEventListener("mousemove",J,!1),document.addEventListener("mousedown",Q,!1),document.getElementById("gameContent").addEventListener("resize",G,!1),G()}function G(){z.current.width=document.getElementById("gameContent").clientWidth-100,z.current.height=window.innerHeight-170,L.camera.width=z.current.width,L.camera.height=z.current.height}function V(){W=setInterval((function(){L&&(L.step(),L.camera.draw(),L.end&&Y())}),100)}function Y(){if(clearInterval(W),W=null,L){for(var e=0;e<L.actors.length;e++){var t=L.actors[e];"Ai"===t.constructor.name&&(clearInterval(t.interval),t.interval=null)}L.actors=[],L.camera.actors=[],L.camera.draw(),document.removeEventListener("keydown",X,!0),document.removeEventListener("keyup",K,!1),document.removeEventListener("mousemove",J,!1),document.removeEventListener("mousedown",Q,!1),document.getElementById("gameContent").removeEventListener("resize",G,!1),L=null,U={a:!1,s:!1,d:!1,w:!1}}}function X(e){" "===e.key?L&&L.player.nextWeapon():function(e){e.key in U&&(U[e.key]=!0);Z()}(e)}function J(e){L&&L.updateMouse(e)}function Q(e){L&&L.playerShoot(e)}function K(e){U[e.key]=!1,Z()}function Z(){var e=new g(0,0);U.w&&e.add(H.w),U.a&&e.add(H.a),U.s&&e.add(H.s),U.d&&e.add(H.d),L&&(L.player.velocity=e.normalize().mult(D))}function $(e){var t=R();return z=Object(n.useRef)(null),Object(n.useEffect)((function(){Y(),q(z),V()}),[]),Object(u.jsxs)("main",{className:t.content,id:"gameContent",children:[Object(u.jsx)("canvas",{ref:z,width:614,height:614,id:"stage",className:t.gameView}),Object(u.jsx)(E.a,{id:"restart",className:t.playAgain,onClick:function(){document.getElementById("restart").blur(),Y(),q(z),V()},children:"Play Again"})]})}var ee=Object(c.a)((function(e){return{playAgainButton:{backgroundColor:"#55bfbc",color:"white","&:hover":{backgroundColor:"#39807e"}}}})),te=a(371),ae=a(367);function ne(e){return Object(u.jsx)(ae.a,Object(d.a)({elevation:6,variant:"filled"},e))}function ie(e){ee();var t=i.a.useState(""),a=Object(h.a)(t,2),o=(a[0],a[1],i.a.useState(!1)),r=Object(h.a)(o,2),s=r[0],c=r[1],l=Object(n.useContext)(b),d=(l.isAuth,l.updateAuth,l.updateToken,function(e,t){"clickaway"!==t&&c(!1)});return Object(n.useEffect)((function(){}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:1e3,onClose:d,children:Object(u.jsx)(ne,{onClose:d,severity:"success",children:"Login successful"})}),Object(u.jsx)($,{})]})}var oe=a(344),re=a(366),se=a(346),ce=a(345),le=a(75),he=a(151),de=a.n(he),ue=a(153),be=a.n(ue),je=a(152),pe=a.n(je),me=Object(c.a)((function(e){return{app:{color:"#FBFAF8",backgroundColor:"#0A122A",paddingTop:"0.5%",paddingBottom:"0.5%"},nav:{display:"flex"},icon:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center",marginLeft:"5%"},tabs:{marginRight:"10%",justifyContent:"center",alignItems:"center",width:1e3}}}));function fe(){var e=me(),t=Object(n.useContext)(b),a=t.updateAuth,i=(t.updateToken,Object(s.g)()),o=Object(n.useState)(0),r=Object(h.a)(o,2),c=r[0],l=r[1],d=Object(n.useState)(!1),j=Object(h.a)(d,2),p=j[0],m=j[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=function(e){p&&" "===e.key&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[p]);return Object(u.jsx)(oe.a,{className:e.app,children:Object(u.jsxs)(ce.a,{className:e.nav,children:[Object(u.jsx)(le.a,{variant:"h6",className:e.icon,children:"Battle Royale"}),Object(u.jsxs)(re.a,{className:e.tabs,value:c,onChange:function(e,t){l(t),0===t?(m(!0),f.current&&f.current.scrollIntoView({behavior:"smooth"})):m(!1)},centered:!0,children:[Object(u.jsx)(se.a,{label:"Play",onClick:function(){i.push("/2D-BattleRoyale/app/play")},icon:Object(u.jsx)(de.a,{})}),Object(u.jsx)(se.a,{label:"Instructions",onClick:function(){i.push("/2D-BattleRoyale/app/instructions")},icon:Object(u.jsx)(pe.a,{})}),Object(u.jsx)(se.a,{label:"Logout",onClick:function(){a(!1),localStorage.removeItem("token"),i.push("/2D-BattleRoyale/")},icon:Object(u.jsx)(be.a,{})})]})]})})}var ge=a(10),xe=a(3),ye=a(4),we=a(364),ve=a(347),Oe=a(348),ke=a(296),Ce=a(365),Ae=a(374),Se=a(375),Pe=a(352),Te=a(372),Ne=a(353),Be=a(350),Ie=a(351),_e=a(349),Me=a(369),Re=a(376),Ee=a(354),Le=a(370),We=Object(c.a)((function(e){return{root:{display:"flex"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(ge.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400},logout:{bottom:-270},saveBtn:{bottom:-20},paperTitle:{paddingLeft:10,paddingBottom:20}}})),Fe=["children","value","index"];function De(e){return Object(u.jsx)(ae.a,Object(d.a)({elevation:6,variant:"filled"},e))}function ze(e){var t=e.children,a=e.value,n=e.index,i=Object(xe.a)(e,Fe);return Object(u.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},i),{},{children:a===n&&Object(u.jsx)(we.a,{p:3,children:Object(u.jsx)("div",{children:t})})}))}function He(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}function Ue(){var e,t=We(),a=i.a.useState(0),o=Object(h.a)(a,2),r=o[0],s=o[1],c=i.a.useState({first_name:"",last_name:"",email:"",phone_number:""}),l=Object(h.a)(c,2),b=l[0],j=l[1],p=i.a.useState({current_password:"",new_password:"",new_password2:""}),m=Object(h.a)(p,2),f=m[0],g=m[1],x=i.a.useState(""),y=Object(h.a)(x,2),w=(y[0],y[1]),v=i.a.useState(!1),O=Object(h.a)(v,2),k=O[0],C=O[1],A=i.a.useState(!1),S=Object(h.a)(A,2),P=S[0],T=S[1],N=i.a.useState(!1),B=Object(h.a)(N,2),I=B[0],_=B[1],M=i.a.useState(!1),R=Object(h.a)(M,2),L=R[0],W=R[1],F=i.a.useState(!1),D=Object(h.a)(F,2),z=D[0],H=D[1],U=i.a.useState(""),q=Object(h.a)(U,2),G=q[0],V=q[1],Y=i.a.useState(!1),X=Object(h.a)(Y,2),J=X[0],Q=X[1],K=i.a.useState(""),Z=Object(h.a)(K,2),$=Z[0],ee=Z[1],ae=i.a.useState(""),ne=Object(h.a)(ae,2),ie=ne[0],oe=ne[1],ce=i.a.useRef(),he=i.a.useState({Morning:!1,Afternoon:!1,Night:!1}),de=Object(h.a)(he,2),ue=de[0],be=de[1],je=ue.Morning,pe=ue.Afternoon,me=ue.Night,fe=function(e){return function(t){W(!1),H(!1),g(Object(d.a)(Object(d.a)({},f),{},Object(ge.a)({},e,t.target.value)))}},xe=function(){fetch("http://localhost:8000/api/user/profile",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",jwt_token:localStorage.token}}).then((function(e){return e.json()})).then((function(e){w(e.password),ee(e.email),j(Object(d.a)(Object(d.a)({},b),{},{first_name:e.firstName,last_name:e.lastName,email:e.email}))})).catch((function(e){console.log("Error")}))},we=function(){var e={firstName:b.first_name,lastName:b.last_name,original_email:$,email:b.email},t=[];for(var a in e){var n=encodeURIComponent(a),i=encodeURIComponent(e[a]);t.push(n+"="+i)}t=t.join("&"),console.log(t),fetch("http://localhost:8000/api/user",{method:"PATCH",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),ee(e.email),j(Object(d.a)(Object(d.a)({},b),{},{first_name:e.firstName,last_name:e.lastName,email:e.email}))})).catch((function(e){console.log("Error")}))},Fe=function(){if(f.new_password===f.new_password2){H(!1);var e={email:b.email,currentpassword:f.current_password,password:f.new_password},t=[];for(var a in e){var n=encodeURIComponent(a),i=encodeURIComponent(e[a]);t.push(n+"="+i)}t=t.join("&"),fetch("http://localhost:8000/api/user/password",{method:"PATCH",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),"Invalid password"===e?W(!0):(W(!1),xe(),_(!0))})).catch((function(e){console.log(e)}))}else H(!0)},Ue=function(e,t){"clickaway"!==t&&T(!1)},qe=function(e,t){"clickaway"!==t&&(H(!1),C(!1))},Ge=function(e,t){"clickaway"!==t&&(g(Object(d.a)(Object(d.a)({},f),{},{current_password:"",new_password:"",new_password2:""})),_(!1))},Ve=Object(ye.a)(t.paper,t.fixedHeight),Ye=function(e){be(Object(d.a)(Object(d.a)({},ue),{},Object(ge.a)({},e.target.value,e.target.checked)))};return Object(n.useEffect)((function(){fetch("http://localhost:8000/api/user/verify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",jwt_token:localStorage.token}}).then((function(e){return e.json()})).then((function(e){!0!==e&&(window.location.href="/")})).catch((function(e){console.log("Error")})),xe()}),[]),Object(u.jsxs)("div",{className:t.root,children:[Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:k,autoHideDuration:1e3,onClose:qe,children:Object(u.jsx)(De,{onClose:qe,severity:"success",children:"Sucessfully Saved!"})}),Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:I,autoHideDuration:1e3,onClose:Ge,children:Object(u.jsx)(De,{onClose:Ge,severity:"success",children:"Sucessfully Changed!"})}),Object(u.jsxs)("main",{className:t.content,children:[Object(u.jsx)(le.a,{className:t.pageTitle,variant:"h4",children:"Account Settings"}),Object(u.jsx)(ve.a,{maxWidth:"lg",className:t.container,children:Object(u.jsxs)(Oe.a,{container:!0,spacing:3,children:[Object(u.jsx)(Oe.a,{item:!0,xs:12,md:4,lg:2,children:Object(u.jsxs)(ke.a,{className:Ve,children:[Object(u.jsxs)(re.a,{orientation:"vertical",value:r,onChange:function(e,t){W(!1),H(!1),s(t)},children:[Object(u.jsx)(se.a,Object(d.a)({label:"General"},He(0))),Object(u.jsx)(se.a,Object(d.a)({label:"Security"},He(1)))]}),Object(u.jsx)(E.a,{onClick:function(){T(!0)},className:t.logout,color:"secondary",children:"Delete Account"}),Object(u.jsxs)(Te.a,{open:P,onClose:Ue,"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(_e.a,{id:"form-dialog-title",children:"Delete account"}),Object(u.jsxs)(Be.a,{children:[Object(u.jsx)(Ie.a,{children:"Are you sure you want do delete your account? Enter your password"}),Object(u.jsx)(Ce.a,{autoFocus:!0,margin:"dense",id:"name",label:"Password",type:"password",onChange:function(e){V(e.target.value)},error:J,helperText:J?"Wrong Password":"",fullWidth:!0})]}),Object(u.jsxs)(Ne.a,{children:[Object(u.jsx)(E.a,{onClick:Ue,color:"primary",children:"Cancel"}),Object(u.jsx)(E.a,{onClick:function(){var e={email:b.email,password:G},t=[];for(var a in e){var n=encodeURIComponent(a),i=encodeURIComponent(e[a]);t.push(n+"="+i)}t=t.join("&"),fetch("http://localhost:8000/api/user",{method:"DELETE",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){"Invalid Password!"===e?Q(!0):ce.current=window.setTimeout((function(){localStorage.removeItem("token"),window.location.href="/"}),200)})).catch((function(e){console.log(e)}))},color:"primary",children:"Delete"})]})]})]})}),Object(u.jsx)(Oe.a,{item:!0,xs:12,md:8,lg:9,children:Object(u.jsx)(ke.a,{className:Ve,children:Object(u.jsxs)("div",{children:[Object(u.jsxs)(ze,{value:r,index:0,children:[Object(u.jsx)(le.a,{variant:"overline",children:"Account Details"}),Object(u.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsxs)(Pe.a,{id:"Username",fullWidth:!0,variant:"outlined",children:[Object(u.jsx)(Se.a,{disabled:!0,htmlFor:"outlined-adornment-firstname",children:"Username"}),Object(u.jsx)(Ae.a,{disabled:!0,id:"outlined-adornment-firstname",value:b.first_name,onChange:(e="first_name",function(t){j(Object(d.a)(Object(d.a)({},b),{},Object(ge.a)({},e,t.target.value)))}),labelWidth:80})]})}),Object(u.jsx)(le.a,{variant:"overline",children:"Please select your Birthday:"}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{fullWidth:!0,required:!0,id:"date",label:"Birthday",type:"date",defaultValue:"YYYY-MM-DD",className:t.textField,InputLabelProps:{shrink:!0}})}),Object(u.jsx)(le.a,{variant:"overline",children:"Choose your skill level:"}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsxs)(Re.a,{"aria-label":"day",name:"days",value:ie,onChange:function(e){oe(e.target.value)},children:[Object(u.jsx)(Ee.a,{value:"Beginner",control:Object(u.jsx)(Me.a,{}),label:"Beginner"}),Object(u.jsx)(Ee.a,{value:"Intermediate",control:Object(u.jsx)(Me.a,{}),label:"Intermediate"}),Object(u.jsx)(Ee.a,{value:"Advanced",control:Object(u.jsx)(Me.a,{}),label:"Advanced"})]})}),Object(u.jsx)(le.a,{variant:"overline",children:"Choose when you are going to play:"}),Object(u.jsxs)(Oe.a,{item:!0,xs:12,children:[Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:je,onChange:Ye,value:"Morning"}),label:"Morning"}),Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:pe,onChange:Ye,value:"Afternoon"}),label:"Afternoon"}),Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:me,onChange:Ye,value:"Night"}),label:"Night"})]})]}),Object(u.jsx)(E.a,{className:t.saveBtn,onClick:function(){we(),C(!0)},variant:"contained",color:"primary",children:" Save Changes"})]}),Object(u.jsxs)(ze,{value:r,index:1,children:[Object(u.jsx)(le.a,{className:t.paperTitle,children:"Account Security"}),Object(u.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{id:"currentpassword",required:!0,fullWidth:!0,type:"password",value:f.current_password,onChange:fe("current_password"),label:"Current Password",variant:"outlined",error:L,helperText:L?"Wrong Password":""})}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{id:"newpassword",required:!0,fullWidth:!0,value:f.new_password,type:"password",onChange:fe("new_password"),label:"New Password",variant:"outlined"})}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{id:"newpasswordrep",fullWidth:!0,required:!0,value:f.new_password2,type:"password",onChange:fe("new_password2"),label:"Confirm New Password",variant:"outlined",error:z,helperText:z?"Passwords don't match":""})})]}),Object(u.jsx)(E.a,{className:t.saveBtn,onClick:function(){Fe()},variant:"contained",color:"primary",children:" Change Password"})]})]})})})]})})]})]})}var qe=Object(c.a)((function(e){return{root:{paddingTop:e.spacing(6)},card:{marginTop:e.spacing(3),padding:e.spacing(3),textAlign:"left",borderRadius:e.spacing(1),boxShadow:e.shadows[3],fontSize:18},cardTitle:{textAlign:"center",fontSize:36,marginBottom:e.spacing(2),fontWeight:"bolder"},purpleText:{color:e.palette.primary.main},blueText:{color:e.palette.info.main},yellowText:{color:e.palette.warning.main},greenText:{color:e.palette.success.main},gunTypeText:{color:e.palette.secondary.main}}}));function Ge(e){var t=qe();Object(n.useContext)(b).isAuth;return Object(n.useEffect)((function(){fetch("http://localhost:8000/api/user/verify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",jwt_token:localStorage.token}}).then((function(e){return e.json()})).then((function(e){!0!==e&&(window.location.href="/")})).catch((function(e){console.log("Error")}))}),[]),Object(u.jsx)(ve.a,{maxWidth:"md",className:t.root,children:Object(u.jsx)(Oe.a,{container:!0,justifyContent:"center",children:Object(u.jsx)(Oe.a,{item:!0,xs:12,sm:10,md:8,children:Object(u.jsxs)(ke.a,{className:t.card,variant:"outlined",children:[Object(u.jsx)(le.a,{className:t.cardTitle,variant:"h6",children:"Instructions"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Move using WASD keys."}),Object(u.jsx)("li",{children:"Aim and shoot with the cursor and left-click."}),Object(u.jsx)("li",{children:"Collect ammo packs to reload."}),Object(u.jsxs)("li",{children:["Quadrants represent different terrains with effects:",Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:t.purpleText,children:"Nether (Purple): Higher damage for all players."}),Object(u.jsx)("li",{className:t.blueText,children:"Ice (Blue): Faster movement speed."}),Object(u.jsx)("li",{className:t.yellowText,children:"Sand (Yellow): Slower movement."}),Object(u.jsx)("li",{className:t.greenText,children:"Grass (Green): Normal movement."})]})]}),Object(u.jsx)("li",{children:"Battle AI opponents to score points."}),Object(u.jsxs)("li",{children:["Use various gun types:",Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:t.gunTypeText,children:"Cannon: Powerful single shots."}),Object(u.jsx)("li",{className:t.gunTypeText,children:"Pistol: Fast and accurate shots."}),Object(u.jsx)("li",{className:t.gunTypeText,children:"Shotgun: Spreads damage over an area."})]})]}),Object(u.jsx)("li",{children:"Switch guns quickly with the space bar."}),Object(u.jsx)("li",{children:"Adjust difficulty settings to change the challenge."}),Object(u.jsx)("li",{children:'Restart the game by clicking "Play Again."'}),Object(u.jsx)("li",{children:"Survive as long as possible!"})]})]})})})})}var Ve=a(356),Ye=a(360),Xe=a(359),Je=a(355),Qe=a(357),Ke=a(358),Ze=Object(c.a)((function(e){return{cardGrid:{padding:0},card:{marginTop:30,position:"relative",height:150,padding:25,textAlign:"center",color:e.palette.text.secondary,borderRadius:5,boxShadow:"5px 5px 13px #ededed, -5px -5px 13px #ffffff;"},table:{width:200,borderColor:"red"},container:{marginLeft:"80%",width:200,alignItems:"center",textAlign:"center",borderColor:"red"},cont1:{marginRight:"10%",height:400},cont2:{height:400,marginLeft:"10%"},usercontainer:{marginLeft:"10%",width:200,borderColor:"red",alignItems:"center",textAlign:"center"},head:{backgroundColor:e.palette.common.black,color:e.palette.common.white}}}));function $e(e){return Object(u.jsx)(ae.a,Object(d.a)({elevation:6,variant:"filled"},e))}function et(e,t){return{name:e,score:t}}var tt=[et("Player1",159),et("Player2",237),et("Player3",262),et("Player4",305),et("Player5",356),et("Player6",159),et("Player7",237),et("Player8",262),et("Player9",305),et("Player0",356)];function at(e){var t=Ze(),a=i.a.useState([]),o=Object(h.a)(a,2),r=o[0],s=o[1],c=i.a.useState(""),l=Object(h.a)(c,2),d=(l[0],l[1]),j=i.a.useState(!1),p=Object(h.a)(j,2),m=p[0],f=p[1],g=Object(n.useContext)(b),x=(g.isAuth,g.updateAuth,g.updateToken,function(e,t){"clickaway"!==t&&f(!1)}),y=function(e){console.log("EMAI"+e);var t=[],a=encodeURIComponent("email"),n=encodeURIComponent(e);t.push(a+"="+n),t=t.join("&"),fetch("http://localhost:8000/api/user/bill",{method:"POST",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e.length),s(e)})).catch((function(e){alert(e)}))};return Object(n.useEffect)((function(){fetch("http://localhost:8000/api/user/profile",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",jwt_token:localStorage.token}}).then((function(e){return e.json()})).then((function(e){d(e.firstName),setEmail(e.email),y(e.email)})).catch((function(e){console.log("Error")})),fetch("http://localhost:8000/api/user/verify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",jwt_token:localStorage.token}}).then((function(e){return e.json()})).then((function(e){!0!==e&&(window.location.href="/")})).catch((function(e){console.log("Error")}))}),[]),Object(u.jsxs)("div",{className:t.cardGrid,children:[Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:1e3,onClose:x,children:Object(u.jsx)($e,{onClose:x,severity:"success",children:"Login successful"})}),Object(u.jsx)(Je.a,{className:t.usercontainer,component:ke.a,children:Object(u.jsxs)(Ve.a,{className:t.table,"aria-label":"simple table",children:[Object(u.jsx)(Qe.a,{children:Object(u.jsxs)(Ke.a,{children:[Object(u.jsx)(Xe.a,{className:t.head,children:"User"}),Object(u.jsx)(Xe.a,{className:t.head,align:"center",children:"Score"})]})}),Object(u.jsx)(Ye.a,{children:r.map((function(e,t){return Object(u.jsxs)(Ke.a,{children:[Object(u.jsx)(Xe.a,{children:e.user}),Object(u.jsx)(Xe.a,{children:e.score})]},t)}))})]})}),Object(u.jsx)(Je.a,{className:t.container,component:ke.a,children:Object(u.jsxs)(Ve.a,{className:t.table,"aria-label":"simple table",children:[Object(u.jsx)(Qe.a,{children:Object(u.jsxs)(Ke.a,{children:[Object(u.jsx)(Xe.a,{className:t.head,children:"Top 10 Leaderboard"}),Object(u.jsx)(Xe.a,{className:t.head,align:"center",children:"Score"})]})}),Object(u.jsx)(Ye.a,{children:tt.map((function(e){return Object(u.jsxs)(Ke.a,{children:[Object(u.jsx)(Xe.a,{component:"th",scope:"row",children:e.name}),Object(u.jsx)(Xe.a,{align:"center",children:e.score})]},e.name)}))})]})})]})}function nt(e){var t=l();return Object(u.jsxs)("div",{className:t.root,children:[Object(u.jsx)(fe,{}),Object(u.jsx)("div",{className:t.content,children:Object(u.jsxs)(s.d,{children:[Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/app/play",component:ie,exact:!0}),Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/app/instructions",component:Ge,exact:!0}),Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/app/stats",component:at,exact:!0}),Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/app/profile",component:Ue,exact:!0})]})})]})}var it=Object(c.a)((function(e){return{root:{height:"90vh",backgroundImage:"url(https://wallpapercave.com/wp/wp6308454.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",position:"relative"},playButton:{position:"absolute",bottom:"15%",left:"50%",transform:"translateX(-50%)"},about:{height:"80vh"},navbar:{color:"#FBFAF8",backgroundColor:"#0A122A",paddingTop:"0.5%",paddingBottom:"0.5%"},navtitle:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center",marginLeft:"5%"},navbuttons:{flex:1,display:"flex",justifyContent:"flex-end"},slogan:{fontFamily:"Poppins",color:"white",alignItems:"center",justify:"center",marginTop:"10%",marginLeft:"35%",width:"450px"},aboutmsg:{fontFamily:"Poppins",marginTop:"10%",marginLeft:"35%",margin:"50px",fontSize:"10",width:"500px"},abouth1:{marginTop:"5%",marginLeft:"35%"},subimage:{marginTop:"15%",marginLeft:"10%",justify:"right",width:"700px"},hideBtn:{"&:hover":{cursor:"pointer"}}}})),ot=a(154),rt=a.n(ot);var st=function(){var e=it(),t=Object(n.useRef)(null);return Object(u.jsxs)("div",{children:[Object(u.jsx)(fe,{}),Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(le.a,{variant:"h1",className:e.slogan,children:Object(u.jsx)("b",{children:"Press Play to Begin!"})}),Object(u.jsx)(E.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(u.jsx)(rt.a,{}),onClick:function(){window.location.href="/2D-BattleRoyale/app/play"},className:e.playButton,children:"Play"})]}),Object(u.jsx)("div",{ref:t,id:"About",className:e.about,children:Object(u.jsxs)(Oe.a,{container:!0,children:[Object(u.jsxs)(Oe.a,{item:!0,xs:6,children:[Object(u.jsx)(le.a,{variant:"h3",className:e.abouth1,children:Object(u.jsx)("b",{children:"About Battle Royale"})}),Object(u.jsxs)(le.a,{variant:"h5",className:e.aboutmsg,children:["Battle Royale is a fun single player game that you can run in your browser.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"This game includes AI, obstacles, and a whole world to move around in.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"You need to survive as long as you can without dying, killing AI to win. How long can you survive? ",Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]}),Object(u.jsx)(Oe.a,{item:!0,xs:6,children:Object(u.jsx)("img",{src:"https://ychef.files.bbci.co.uk/976x549/p091j3dx.jpg",className:e.subimage})})]})})]})},ct=a(363),lt=a(5),ht=a(7),dt=["children","classes","marked","variant"],ut={h1:"h1",h2:"h1",h3:"h1",h4:"h1",h5:"h3",h6:"h2",subtitle1:"h3"};var bt=Object(lt.a)((function(e){return{markedH2Center:{height:4,width:73,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH3Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH4Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH6Left:{height:2,width:28,display:"block",marginTop:e.spacing(.5),background:"currentColor"}}}))((function(e){var t=e.children,a=e.classes,n=e.marked,i=void 0!==n&&n,o=e.variant,r=Object(xe.a)(e,dt);return Object(u.jsxs)(le.a,Object(d.a)(Object(d.a)({variantMapping:ut,variant:o},r),{},{children:[t,i?Object(u.jsx)("span",{className:a["marked".concat(Object(ht.a)(o)+Object(ht.a)(i))]}):null]}))})),jt=a(162),pt=a(97),mt=a(160),ft=a.n(mt),gt=a(161),xt=a.n(gt),yt=a(297),wt=a(361),vt=a(362),Ot=a(96),kt=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},bgPaper:{marginTop:e.spacing(15),padding:20},form:{width:"100%",marginTop:e.spacing(1)},submit:{height:35,margin:e.spacing(3,0,2),backgroundColor:"#55bfbc",color:"white","&:hover":{backgroundColor:"#39807e"}},navbar:{color:"#FBFAF8",backgroundColor:"#0A122A",paddingTop:"0.5%",paddingBottom:"0.5%"},navtitle:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center",marginLeft:"5%"},navbuttons:{flex:1,display:"flex",justifyContent:"flex-end"},title:{fontFamily:"'Work Sans', sans-serif",fontSize:43,fontWeight:700},buttonProgress:{color:Ot.a[500],position:"absolute",top:"40%",left:"50%",marginLeft:-12},wrapper:{position:"relative"},hideBtn:{"&:hover":{cursor:"pointer"}}}}));function Ct(e){return Object(u.jsx)(ae.a,Object(d.a)({elevation:6,variant:"filled"},e))}var At=pt.a({username:pt.b("Enter your username").min(6,"Username should be of minimum 6 characters length").required("Username is required"),password:pt.b("Enter your password").min(6,"Password should be of minimum 6 characters length").required("Password is required")});var St=function(e){var t=kt(),a=i.a.useRef(),o=i.a.useState(!1),r=Object(h.a)(o,2),s=r[0],c=r[1],l=i.a.useState(!1),j=Object(h.a)(l,2),p=(j[0],j[1],Object(n.useContext)(b)),m=(p.updateAuth,p.updateToken,i.a.useState(!1)),f=Object(h.a)(m,2),g=f[0],x=f[1],y=i.a.useState({showPassword:!1}),w=Object(h.a)(y,2),v=w[0],O=w[1],k=i.a.useState(""),C=Object(h.a)(k,2),A=C[0],S=C[1],P=i.a.useState(!1),T=Object(h.a)(P,2),N=T[0],B=T[1],I=i.a.useState(!1),_=Object(h.a)(I,2),M=_[0],R=_[1];function L(){B(!1),R(!1)}var W=i.a.useState({Morning:!1,Afternoon:!1,Night:!1}),F=Object(h.a)(W,2),D=F[0],z=F[1],H=D.Morning,U=D.Afternoon,q=D.Night,G=function(e){z(Object(d.a)(Object(d.a)({},D),{},Object(ge.a)({},e.target.value,e.target.checked)))},V=Object(jt.a)({initialValues:{username:"",password:"",confirmpassword:"",birthday:null},validationSchema:At,onSubmit:function(e){c(!0),a.current=window.setTimeout((function(){c(!1),function(e){if(e.confirmpassword===e.password)if(!1!==D.Morning||0!=D.Afternoon||0!=D.Night)if(""!=A){var t=[];1==D.Morning&&t.push("Morning"),1==D.Afternoon&&t.push("Afternoon"),1==D.Night&&t.push("Night");var a={username:e.username,confirm:e.confirmpassword,password:e.password,birthday:"2021-04-08",day:t,skill:A};fetch("http://localhost:3000/api/user/register",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log("done")})).catch((function(e){console.log("error catch")}))}else R(!0);else B(!0);else x(!0)}(e)}),2e3)}});return Object(u.jsxs)("div",{children:[Object(u.jsx)(oe.a,{position:"static",className:t.navbar,children:Object(u.jsxs)(ce.a,{className:t.navtitle,children:[Object(u.jsx)(bt,{className:t.hideBtn,onClick:function(){window.location.href="/"},variant:"h6",children:"Battle Royale"}),Object(u.jsxs)("div",{className:t.navbuttons,children:[Object(u.jsx)(E.a,{color:"inherit",onClick:function(){window.location.href="/#/#About"},children:" About "}),Object(u.jsx)(E.a,{color:"inherit",onClick:function(){window.location.href="/#/register"},children:"Register"})]})]})}),Object(u.jsx)(ve.a,{component:"main",maxWidth:"sm",children:Object(u.jsxs)(ke.a,{variant:"outlined",square:!0,className:t.bgPaper,children:[Object(u.jsxs)("div",{className:t.paper,children:[Object(u.jsx)(bt,{className:t.title,variant:"h3",gutterBottom:!0,marked:"center",align:"center",children:"SIGN UP"}),Object(u.jsxs)("form",{id:"regForm",className:t.form,onSubmit:V.handleSubmit,children:[Object(u.jsxs)(Oe.a,{container:!0,spacing:2,children:[Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",value:V.values.username,onChange:V.handleChange,error:V.touched.username&&Boolean(V.errors.username),helperText:V.touched.username&&V.errors.username,autoFocus:!0})}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:v.showPassword?"text":"password",value:V.values.password,onChange:V.handleChange,error:g||V.touched.password&&Boolean(V.errors.password),helperText:V.touched.password&&V.errors.password,InputProps:{endAdornment:Object(u.jsx)(wt.a,{position:"end",children:Object(u.jsx)(yt.a,{"aria-label":"toggle password visibility",onClick:function(){O(Object(d.a)(Object(d.a)({},v),{},{showPassword:!v.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:v.showPassword?Object(u.jsx)(ft.a,{}):Object(u.jsx)(xt.a,{})})})}})}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmpassword",label:"Confirm Password",type:"password",id:"confirmpassword",value:V.values.confirmpassword,onChange:V.handleChange,error:g,helperText:g?"Passwords do not match":""})}),Object(u.jsx)(bt,{variant:"overline",children:"Please select your Birthday:"}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsx)(Ce.a,{fullWidth:!0,required:!0,name:"birthday",id:"date",label:"Birthday",type:"date",value:V.values.birthday,onChange:V.handleChange,className:t.textField,InputLabelProps:{shrink:!0}})}),Object(u.jsx)(bt,{variant:"overline",children:"Choose your skill level:"}),Object(u.jsx)(Oe.a,{item:!0,xs:12,children:Object(u.jsxs)(Re.a,{error:V.errors.radbtn,touched:V.touched.radbtn,"aria-label":"day",name:"days",value:A,onChange:function(e){S(e.target.value)},children:[Object(u.jsx)(Ee.a,{value:"Beginner",control:Object(u.jsx)(Me.a,{}),label:"Beginner"}),Object(u.jsx)(Ee.a,{value:"Intermediate",control:Object(u.jsx)(Me.a,{}),label:"Intermediate"}),Object(u.jsx)(Ee.a,{value:"Advanced",control:Object(u.jsx)(Me.a,{}),label:"Advanced"})]})}),Object(u.jsx)(bt,{variant:"overline",children:"Choose when you are going to play:"}),Object(u.jsxs)(Oe.a,{item:!0,xs:12,children:[Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:H,onChange:G,value:"Morning"}),label:"Morning"}),Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:U,onChange:G,value:"Afternoon"}),label:"Afternoon"}),Object(u.jsx)(Ee.a,{control:Object(u.jsx)(Le.a,{checked:q,onChange:G,value:"Night"}),label:"Night"})]})]}),Object(u.jsxs)("div",{className:t.wrapper,children:[Object(u.jsxs)(E.a,{fullWidth:!0,variant:"contained",type:"submit",className:t.submit,disabled:s,children:[" ",s?"":"Register"]}),s&&Object(u.jsx)(vt.a,{size:24,className:t.buttonProgress})]}),Object(u.jsx)(Oe.a,{container:!0,justify:"center",children:Object(u.jsx)(Oe.a,{item:!0,children:Object(u.jsx)(ct.a,{href:"/",variant:"body2",children:"Already have an account? Log in"})})})]})]}),Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:N,autoHideDuration:3e3,onClose:L,children:Object(u.jsx)(Ct,{onClose:L,severity:"warning",children:"Please check when you are going to play!"})}),Object(u.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:M,autoHideDuration:3e3,onClose:L,children:Object(u.jsx)(Ct,{onClose:L,severity:"warning",children:"Please check a skill level!"})})]})})]})};Object(c.a)((function(e){return{footer:{backgroundColor:"lightgray",float:"bottom",padding:"20px"}}}));function Pt(){var e=Object(n.useContext)(b),t=e.isAuth;e.updateAuth,e.updateToken,e.token;return Object(n.useEffect)((function(){}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(s.d,{children:[Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/",render:function(){return t?Object(u.jsx)(s.a,{to:"/app"}):Object(u.jsx)(st,{})},exact:!0}),Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/app",component:nt}),Object(u.jsx)(s.b,{path:"/2D-BattleRoyale/register",render:function(){return t?Object(u.jsx)(s.a,{to:"/app"}):Object(u.jsx)(St,{})}}),Object(u.jsx)(s.b,{path:"*",children:Object(u.jsx)("div",{children:"Not Found"})})]})})}var Tt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,378)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),o(e),r(e)}))},Nt=a(73);r.a.render(Object(u.jsxs)(i.a.StrictMode,{children:[Object(u.jsx)(Nt.a,{children:Object(u.jsx)(j,{children:Object(u.jsx)(Pt,{})})}),","]}),document.getElementById("root")),Tt()}},[[294,1,2]]]);
//# sourceMappingURL=main.a5242f31.chunk.js.map